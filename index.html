<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NBA Player Stats Study</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.1/papaparse.min.js"></script>
    <link href="style.css" rel="stylesheet" />
</head>
<body>
    <h1> NBA Player Stats Analysis</h1>

    <h3>Introduction</h3>

    <p>Understanding NBA player performance is essential for evaluating 
      individual contributions and their overall impact on the game. This
     analysis uses statistical data from the official NBA website's leaderboard 
      to explore key performance metrics such as points, assists, and rebounds. 
     These statistics serve as critical indicators of player efficiency, influencing 
     decisions made by fans, analysts, and team managers alike. </p>

    <p>Analyzing player performance metrics provides valuable insights into a player's 
     strengths and weaknesses, helping predict future performance and enabling 
      data-driven decisions regarding player contracts, trades, and team compositions. 
      As professional sports increasingly embrace analytics, particularly in leagues 
     like the NBA, this project offers a deep dive into the world of sports analytics 
     by examining player performance through quantitative metrics.</p>

    <p>To learn more about NBA player statistics and performance analytics,
      visit the <a href="https://www.nba.com/stats">NBA's official website</a> or explore 
      studies like Skinner and Guy's <a href="https://doi.org/10.1371/journal.pone.0136393"
      >A Method for Using Player Tracking Data in Basketball to Learn Player Skills and 
      Predict Team Performance</a> and Nguyen et al.'s <a href="https://doi.org/10.1080/24751839.2021.1977066"
      >The Application of Machine Learning and Deep Learning in Sport: Predicting NBA Players 
      Performance and Popularity.</a><p>

    <h3>Introduction to the Data</h3>

    <p>Our analysis makes use of a dataset from the NBA stats leaders, and it includes the 
        top-performing players across various categories such as points per game, assists, 
        rebounds, steals, and blocks starting from 2010 and after. This data contains 
       roughly 450 records and includes around 22 key attributes. The attributes are listed 
       in the following table:</p> 

    <div class="center">
        <table class="tg">
            <thead>
              <tr>
                <th class="tg-0lax">Variable Name</th>
                <th class="tg-0lax">Details</th>
              </tr>
            </thead>
            <tbody>
              <tr><td class="tg-0lax">player_name</td><td class="tg-0lax">Name of the player</td></tr>
              <tr><td class="tg-0lax">team_abbreviation</td><td class="tg-0lax">Team abbreviation</td></tr>
              <tr><td class="tg-0lax">age</td><td class="tg-0lax">Player's age</td></tr>
              <tr><td class="tg-0lax">player_height</td><td class="tg-0lax">Player's height (cm)</td></tr>
              <tr><td class="tg-0lax">player_weight</td><td class="tg-0lax">Player's weight (kg)</td></tr>
              <tr><td class="tg-0lax">draft_year</td><td class="tg-0lax">Draft year</td></tr>
              <tr><td class="tg-0lax">draft_round</td><td class="tg-0lax">Draft round</td></tr>
              <tr><td class="tg-0lax">pts</td><td class="tg-0lax">Points per game</td></tr>
              <tr><td class="tg-0lax">reb</td><td class="tg-0lax">Rebounds per game</td></tr>
              <tr><td class="tg-0lax">ast</td><td class="tg-0lax">Assists per game</td></tr>
              <!-- Add more rows here -->
            </tbody>
        </table>
    </div>

    <!-- Correlation Heatmap Section -->
    <h3>Correlation Heatmap of Player Metrics</h3>
    <p>This correlation heatmap reveals several key relationships among basketball player metrics and draft data. Players with better physical attributes, such as height and weight, are more likely to be drafted earlier, as evidenced by strong negative correlations. Offensive metrics like points per game (pts) and usage percentage (usg_pct) also show a strong positive correlation.</p>
    <div id="heatmap"></div>

    <!-- Shooting Efficiency Section -->
    <h3>Shooting Efficiency by Draft Round</h3>
    <p>The box plot reveals that players drafted in earlier rounds generally have higher shooting percentages and greater variability in performance. Players drafted in later rounds display lower median shooting percentages.</p>
    <div id="shootingEfficiency"></div>

    <!-- Average Points Section -->
    <h3>Average Points Scored by Players for Each Team</h3>
    <p>The interactive bar chart compares scoring performance across NBA teams. Most team averages fall between 6 and 8 points per game, highlighting relatively balanced contributions across teams.</p>
    <div id="averagePoints"></div>

    <script>
        // Correlation Heatmap
        Plotly.newPlot('heatmap', [{
            x: ['Age', 'Height', 'Weight', 'Points', 'Rebounds', 'Assists', 'Draft Year', 'Draft Round'],
            y: ['Age', 'Height', 'Weight', 'Points', 'Rebounds', 'Assists', 'Draft Year', 'Draft Round'],
            z: [
                [1, 0.7, 0.5, 0.8, 0.6, 0.4, -0.3, -0.5],
                [0.7, 1, 0.8, 0.6, 0.5, 0.3, -0.4, -0.6],
                [0.5, 0.8, 1, 0.7, 0.4, 0.2, -0.3, -0.4],
                [0.8, 0.6, 0.7, 1, 0.6, 0.5, -0.5, -0.6],
                [0.6, 0.5, 0.4, 0.6, 1, 0.7, -0.2, -0.3],
                [0.4, 0.3, 0.2, 0.5, 0.7, 1, -0.1, -0.4],
                [-0.3, -0.4, -0.3, -0.5, -0.2, -0.1, 1, 0.7],
                [-0.5, -0.6, -0.4, -0.6, -0.3, -0.4, 0.7, 1]
            ],
            type: 'heatmap',
            colorscale: 'Viridis'
        }], { title: 'Correlation Heatmap of Player Metrics', xaxis: { title: 'Metrics' }, yaxis: { title: 'Metrics' } });

        // Shooting Efficiency
        Plotly.newPlot('shootingEfficiency', [{
            x: [0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4],
            y: [0.4, 0.45, 0.5, 0.55, 0.6, 0.65, 0.5, 0.55, 0.6, 0.4, 0.45, 0.5, 0.35, 0.4, 0.45],
            type: 'box'
        }], { title: 'Shooting Efficiency by Draft Round', xaxis: { title: 'Draft Round' }, yaxis: { title: 'Shooting Percentage' } });

        Plotly.newPlot('averagePoints', [{
            x: ['ATL', 'BOS', 'CHA', 'CHI', 'CLE', 'DAL', 'DEN', 'DET', 'GSW', 'HOU'],
            y: [8.2, 7.5, 6.8, 7.0, 6.9, 7.3, 7.8, 6.7, 8.0, 7.1],
            type: 'bar',
            marker: { color: 'teal' }
        }], {
            title: 'Average Points Scored by Players for Each Team',
            xaxis: { title: 'Team' },
            yaxis: { title: 'Average Points' }
        });
    </script>

  <h3>Average Metric Comparison for Selected Teams</h3>

  <div id="controls">
    <label for="compareSelect">Select a Team to Compare Against Celtics:</label>
    <select id="compareSelect">
      <option value="">-- Select a Team --</option>
    </select>
  </div>

  <div id="metricControls">
    <label for="metricSelect">Select a Metric:</label>
    <select id="metricSelect">
      <option value="pts">Points</option>
      <option value="reb">Rebounds</option>
      <option value="ast">Assists</option>
    </select>
  </div>

  <div id="barChart"></div>

  <script src="teams.js"></script>
</body>
</html>

